# **Домашняя работа к занятию «3.1. Работа в терминале, лекция 1»**
## _Задача №1_
**Установите средство виртуализации Oracle VirtualBox.**

_Выполнено_

## _Задача №2_
**Установите средство автоматизации Hashicorp Vagrant.**

_Выполнено_

## _Задача №3_
**В вашем основном окружении подготовьте удобный для дальнейшей работы терминал.**

_Выполнено_

На Windows работаю в Git Bash, PS1 пока не настраивал, т.к. юзабилити вроде бы устраивает, присматриваюсь, в дальнейшем возможно подкорректирую настройки под себя.

## _Задача №4_
**С помощью базового файла конфигурации запустите Ubuntu 20.04 в VirtualBox посредством Vagrant.**

_Выполнено_

Проблем с запуском виртуальной машины не было; отключил на хостовой машине роль HYPER-V и добавил в исключения антивируса ресурсы Vagrant.

## _Задача №5_
**Ознакомьтесь с графическим интерфейсом VirtualBox, посмотрите как выглядит виртуальная машина, которую создал для вас Vagrant, какие аппаратные ресурсы ей выделены. Какие ресурсы выделены по-умолчанию?**

Ресурсы по-уполчанию для виртуальной машины, созданной Vagrant:

Base Memory: 1024 Mb

Processors: 2 cpu

Storage: 64 Gb

Video Memory: 4 Mb

Network: Intel PRO/1000MT (NAT)

Shared Folders: /vagrant => D:/%_Netology/Vagrant

Forwarding port: 22 (guest) => 2222 (host)

SSH address: 127.0.0.1:2222

SSH username/password: vagrant/vagrant

## _Задача №6_
**Ознакомьтесь с возможностями конфигурации VirtualBox через Vagrantfile. Как добавить оперативной памяти или ресурсов процессора виртуальной машине?**

Добавить виртуальной машине оперативной памяти или ресурсов процессора можно путём добавления в файл Vagrantfile следующей директивы:
```
config.vm.provider "virtualbox" do |v|
  v.memory = 1024
  v.cpus = 2
end
```
## _Задача №7_
**Команда vagrant ssh из директории, в которой содержится Vagrantfile, позволит вам оказаться внутри виртуальной машины без каких-либо дополнительных настроек. Попрактикуйтесь в выполнении обсуждаемых команд в терминале Ubuntu.**

_Выполнено_

## _Задача №8_
**Ознакомиться с разделами man bash, почитать о настройках самого bash:**
* **какой переменной можно задать длину журнала history, и на какой строчке manual это описывается?**
* **что делает директива ignoreboth в bash?**

- максимальное количество строк в журнале задаётся переменной `HISTFILESIZE`, описывается на строках 554-557 manual;
- количество команд, которые будут запоминаться в журнале задаётся переменной `HISTSIZE`, описывается на строках 562-564 manual;
- директива `ignoreboth` для переменной `HISTCONTROL` - это сокращение двух директив `ignorespace` и `ignoredups`. Первая не сохраняет в истории команды, начинающиеся с пробела, а вторая не сохраняет команды, которые уже сохранены. Описывается на строках 548-549 manual;

## _Задача №9_
**В каких сценариях использования применимы скобки {} и на какой строчке man bash это описано?**

`{ }` - зарезервированные слова, список; используется в различных условных операторах и циклах. В командах выполняет подстановку элементов из списка, например `mkdir folder_{01..12}` - создаст каталоги с именами: folder_01, folder_02 ... folder_12,
описывается в строках 125-128, 186-188 manual;

## _Задача №10_
**Основываясь на предыдущем вопросе, как создать однократным вызовом `touch` 100000 файлов? А получилось ли создать 300000? Если нет, то почему?**

- Создать 100000 файлов можно так:

`touch File_{1..100000}` - создаёт в текущей директории файлы File_1, File_2, .. File_100000

- Создать 300000 не получилось:
```
vagrant@vagrant:~$ touch File_{1..300000}
-bash: /usr/bin/touch: Argument list too long
```
Это происходит из-за ограничения ядра Linux максимальной длины аргументов в командной строке:
```
vagrant@vagrant:~$ getconf ARG_MAX
2097152
```


## _Задача №11_
**В man bash поищите по `/\[\[`. Что делает конструкция `[[ -d /tmp ]]`?**

Конструкция проверяет условие внутри двойных скобок и возвращает значения 0 или 1 в зависимости от наличия директории `/tmp`


## _Задача №12_
**Основываясь на знаниях о просмотре текущих (например, PATH) и установке новых переменных; командах, которые мы рассматривали, добейтесь в выводе `type -a bash` в виртуальной машине наличия первым пунктом в списке:**
```
bash is /tmp/new_path_directory/bash
bash is /usr/local/bin/bash
bash is /bin/bash
```
**(прочие строки могут отличаться содержимым и порядком) В качестве ответа приведите команды, которые позволили вам добиться указанного вывода или соответствующие скриншоты.**
```
vagrant@vagrant:~$ mkdir /tmp/new_path_directory/
vagrant@vagrant:~$ PATH=/tmp/new_path_directory:$PATH
vagrant@vagrant:~$ cp /bin/bash /tmp/new_path_directory/
vagrant@vagrant:~$ type -a bash
bash is /tmp/new_path_directory/bash
bash is /usr/bin/bash
bash is /bin/bash
vagrant@vagrant:~$
```

## _Задача №13_
**Чем отличается планирование команд с помощью batch и at?**

`at` - это утилита командной строки, которая выполняет заданную команду в определенное время один раз.

`batch` - планирует задания и выполняет их, если позволяет уровень загрузки системы. По умолчанию задания выполняются, когда средняя загрузка системы ниже 1,5.

## _Задача №14_
**Завершите работу виртуальной машины чтобы не расходовать ресурсы компьютера и/или батарею ноутбука.**

_Выполнено_

`vagrant halt`
